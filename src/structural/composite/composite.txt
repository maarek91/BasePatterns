Шаблон: Composite (Компоновщик)

Компоновщик — это структурный паттерн проектирования, который позволяет сгруппировать множество объектов в древовидную структуру, 
а затем работать с ней так, как будто это единичный объект.

Паттерн Компоновщик имеет смысл только тогда, когда основная модель вашей программы может быть структурирована в виде дерева.

Например, есть два объекта: Продукт и Коробка. Коробка может содержать несколько Продуктов и других Коробок поменьше. 
Те, в свою очередь, тоже содержат либо Продукты, либо Коробки и так далее.

Если решать задачу в лоб, то вам потребуется открыть все коробки заказа, перебрать все продукты и посчитать их суммарную стоимость. 
Но это слишком хлопотно, так как типы коробок и их содержимое могут быть вам неизвестны. 
Кроме того, наперёд неизвестно и количество уровней вложенности коробок, поэтому перебрать коробки простым циклом не выйдет.

Компоновщик предлагает рассматривать Продукт и Коробку через единый интерфейс с общим методом получения стоимости.

Продукт просто вернёт свою цену. Коробка спросит цену каждого предмета внутри себя и вернёт сумму результатов. 
Если одним из внутренних предметов окажется коробка поменьше, она тоже будет перебирать своё содержимое, и так далее, 
пока не будут посчитаны все составные части.

 Когда вам нужно представить древовидную структуру объектов.
 Паттерн Компоновщик предлагает хранить в составных объектах ссылки на другие простые или составные объекты. 
 Те, в свою очередь, тоже могут хранить свои вложенные объекты и так далее. 
 В итоге вы можете строить сложную древовидную структуру данных, используя всего две основные разновидности объектов.

 Когда клиенты должны единообразно трактовать простые и составные объекты.
